/*!
  \file GGEMSMaterialsManager.cc

  \brief GGEMS singleton class managing the material database

  \author Julien BERT <julien.bert@univ-brest.fr>
  \author Didier BENOIT <didier.benoit@inserm.fr>
  \author LaTIM, INSERM - U1101, Brest, FRANCE
  \version 1.0
  \date Thrusday January 23, 2020
*/

#include "GGEMS/tools/GGEMSPrint.hh"
#include "GGEMS/physics/GGEMSMaterialsManager.hh"

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

GGEMSMaterialsManager::GGEMSMaterialsManager(void)
: is_database_loaded_(false)
{
  GGcout("GGEMSMaterialsManager", "GGEMSMaterialsManager", 3)
    << "Allocation of GGEMS Materials singleton..." << GGendl;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

GGEMSMaterialsManager::~GGEMSMaterialsManager(void)
{
  GGcout("GGEMSMaterialsManager", "~GGEMSMaterialsManager", 3)
    << "Deallocation of GGEMS Materials singleton..." << GGendl;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void GGEMSMaterialsManager::SetMaterialsDatabase(char const* filename)
{
  // Converting char* to string
  std::string filename_str(filename);

  // Loading materials
  LoadMaterialsDatabase(filename_str);
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void GGEMSMaterialsManager::LoadMaterialsDatabase(std::string const& filename)
{
  GGcout("GGEMSMaterialsManager", "LoadMaterialsDatabase", 0)
    << "Loading materials in GGEMS..." << GGendl;

  // Database if loaded
  is_database_loaded_ = true;
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

GGEMSMaterialsManager* get_instance_materials_manager(void)
{
  return &GGEMSMaterialsManager::GetInstance();
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void set_materials_database_ggems_materials_manager(
  GGEMSMaterialsManager* p_ggems_materials_manager, char const* filename)
{
  p_ggems_materials_manager->SetMaterialsDatabase(filename);
}
